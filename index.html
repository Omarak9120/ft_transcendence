<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ft_transcendence</title>

    <!-- Chart.js for the graphs -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <!-- Tailwind CSS “browser” build -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  </head>

  <body
    class="min-h-screen flex flex-col
           bg-gradient-to-br from-indigo-700 via-purple-700 to-rose-600
           text-white selection:bg-pink-400/40"
  >
    <!-- ░░ NAVBAR ░░ -->
    <header class="sticky top-0 bg-black/50 backdrop-blur-md z-50">
      <nav class="max-w-5xl mx-auto px-4 flex items-center justify-between h-16">
        <a href="#" class="text-3xl font-extrabold">⚡ ft_transcendence</a>

        <button id="burger" class="sm:hidden text-white">
          <svg class="w-8 h-8" fill="none" stroke="currentColor" stroke-width="2"
               viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
            <path d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>

        <ul id="nav-menu" class="hidden sm:flex space-x-8">
          <li><a href="#" class="hover:text-pink-200">Home</a></li>
          <li><a href="#" class="hover:text-pink-200">Play</a></li>
          <li><a href="#" id="nav-profile" class="hover:text-pink-200">Profile</a></li>
        </ul>
      </nav>
    </header>

    <!-- ░░ GAME AREA (unchanged) ░░ -->
    <main class="flex-grow flex items-center justify-center p-8">
      <div id="game-container"
           class="relative w-full max-w-xl aspect-video bg-gray-900/70 rounded-3xl
                  shadow-2xl overflow-hidden">
        <canvas id="pong-canvas" class="w-full h-full rounded-3xl"></canvas>

        <!-- SCOREBOARD -->
        <div id="scoreboard"
             class="absolute top-4 left-1/2 -translate-x-1/2 text-4xl font-extrabold
                    flex gap-3 drop-shadow-[0_0_8px_rgb(0_0_0/0.9)] select-none z-10">
          <span id="score-left"  class="text-cyan-300">0</span>
          <span>:</span>
          <span id="score-right" class="text-amber-300">0</span>
        </div>

        <!-- START OVERLAY -->
        <button id="start-btn"
          class="absolute inset-0 flex items-center justify-center z-20
                 bg-black/40 backdrop-blur-sm text-3xl md:text-5xl font-extrabold
                 tracking-wide text-white hover:scale-105 transition
                 before:absolute before:inset-0 before:-z-10 before:rounded-3xl
                 before:bg-[conic-gradient(at_top_left,_theme(colors.cyan.400),
                 _theme(colors.fuchsia.500),_theme(colors.amber.400))]
                 before:opacity-40 before:blur-2xl">
          ▶ LET&nbsp;THE&nbsp;GAME&nbsp;BEGIN
        </button>
      </div>
    </main>

    <!-- ░░ PROFILE MINI-PAGE ░░ -->
    <div id="profile-overlay"
     class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center
            justify-center z-[60]
            hidden opacity-0 transition-opacity duration-300">
      <div
        class="relative w-full max-w-3xl h-[90vh]
               bg-gradient-to-br from-indigo-700 via-purple-700 to-rose-600
               text-white p-8 rounded-3xl shadow-2xl flex flex-col"
      >
        <!-- close × -->
        <button id="profile-close"
                class="absolute top-4 right-4 text-white/70 hover:text-white">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2"
               viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
            <path d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>

        <!-- header -->
        <div class="flex items-center gap-6 mb-8">
          <!-- avatar -->
          <div class="group relative w-24 h-24 rounded-full p-[3px]
                      bg-gradient-to-br from-cyan-400 via-fuchsia-500 to-amber-400 shrink-0">
            <img id="avatar-img"
                 src="https://i.pravatar.cc/150?u=user"
                 class="w-full h-full object-cover rounded-full"
                 alt="Profile picture" />
            <label for="avatar-input"
              class="absolute inset-0 rounded-full bg-black/50 flex
                     items-center justify-center opacity-0 group-hover:opacity-100
                     transition cursor-pointer"
              title="Change picture">
              <svg  class="w-6 h-6 text-white" fill="none" stroke="currentColor"
                    stroke-width="2" viewBox="0 0 24 24"
                    stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 7h4l2-3h6l2 3h4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2z"/>
                <circle cx="12" cy="13" r="4"/>
              </svg>
            </label>
            <input type="file" id="avatar-input" accept="image/*" class="hidden" />
          </div>

          <div>
            <h2 class="text-3xl font-bold">Mohammad Ali</h2>
            <p  class="text-sm text-white/70">Player since 2025</p>
          </div>
        </div>

        <!-- TAB BAR -->
        <nav id="profile-tabs"
             class="relative flex space-x-8 border-b border-white/30 text-white/70">
          <button type="button" data-tab="info"
                  class="tab-btn pb-2 cursor-pointer text-white">Info</button>
          <button type="button" data-tab="stats"
                  class="tab-btn pb-2 cursor-pointer">Stats</button>
          <button type="button" data-tab="history"
                  class="tab-btn pb-2 cursor-pointer">History</button>
          <button type="button" data-tab="friends"
                  class="tab-btn pb-2 cursor-pointer">Friends</button>

          <!-- sliding underline -->
          <span id="tab-underline"
                class="absolute bottom-0 h-0.5 bg-amber-400
                       transition-all duration-300"></span>
        </nav>

        <!-- TAB PANELS -->
        <div id="tab-panels" class="flex-1 overflow-y-auto pt-6">
          <!-- INFO -->
          <section data-panel="info" class="panel">
            <h3 class="text-xl font-semibold mb-4">About Me</h3>
            <p class="leading-relaxed">
              Just a placeholder bio. Replace this with real data from your
              backend – country, favourite paddle colour, anything you like.
            </p>
          </section>

          <!-- STATS PANEL with charts + trophies -->
          <section data-panel="stats" class="panel hidden">
            <!-- ① Monthly average wins -->
            <h3 class="text-xl font-semibold mb-4">Monthly average winning games</h3>
            <canvas id="monthly-chart" class="max-w-full mb-8"></canvas>

            <!-- ② Life average wins -->
            <h3 class="text-xl font-semibold mb-4">Life average winning games</h3>
            <canvas id="life-chart" class="w-56 h-56 mx-auto mb-8"></canvas>

            <!-- ③ Trophy cabinet -->
            <h3 class="text-xl font-semibold mb-4">Trophies</h3>
            <div id="trophies"
                 class="grid sm:grid-cols-2 md:grid-cols-3 gap-4"></div>
          </section>
          
          <!-- HISTORY -->
          <section data-panel="history" class="panel hidden">
            <h3 class="text-xl font-semibold mb-4">Recent Games</h3>
            <table class="w-full text-sm">
              <thead>
                <tr class="text-left text-white/70 border-b border-white/30">
                  <th class="py-2">Match&nbsp;ID</th>
                  <th class="py-2">Date</th>
                  <th class="py-2">Opponent</th>
                  <th class="py-2">Score</th>
                  <th class="py-2">Result</th>
                </tr>
              </thead>
              <!-- ▼ JS will fill this -->
              <tbody id="history-body"></tbody>
            </table>
          </section>


          <!-- FRIENDS --> 
          <section data-panel="friends" class="panel hidden">
            <h3 class="text-xl font-semibold mb-4">Friends</h3>
            <ul class="space-y-4">
              <li class="flex items-center gap-4">
                <img
                  src="https://i.pravatar.cc/40?u=a"
                  class="w-10 h-10 rounded-full"
                />
                <span class="flex-1">Aya</span>
                <button
                  class="text-xs px-3 py-1 rounded-full bg-amber-500 text-white"
                >
                  Challenge
                </button>
              </li>
              <li class="flex items-center gap-4">
                <img
                  src="https://i.pravatar.cc/40?u=b"
                  class="w-10 h-10 rounded-full"
                />
                <span class="flex-1">Karim</span>
                <button
                  class="text-xs px-3 py-1 rounded-full bg-amber-500 text-white"
                >
                  Challenge
                </button>
              </li>
            </ul>
          </section>
        </div>
      </div>
    </div>

    <!-- compiled scripts -->
    <script type="module" src="./dist/nav.js"></script>
    <script type="module" src="./dist/stats.js"></script>
    <script type="module" src="./dist/main.js"></script>
  </body>
</html>
